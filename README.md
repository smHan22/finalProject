# finalProject-1

➨ 이번 프로젝트는 OpenCV 라이브러리를 사용하여 간단한 그래픽 사용자 인터페이스(GUI)를 만들고, 사용자가 마우스로 그림을 그릴 수 있도록 하는 프로그램입니다. 

   사용자는 그림을 저장, 불러오기, 지우기, 실행 및 종료가 가능합니다.

https://youtu.be/r_SaZ05KlQM

실행 동영상 링크

# main 함수

● 메인 함수 내부에서는 drawLine 함수를 호출하여 GUI 레이아웃으로 img 행렬을 초기화합니다.

● Windows창을 생성하고 Windows창에 대해 마우스 콜백 함수를 설정하고 img를 사용자 데이터로 전달합니다.

# drawLine함수

● drawLine 함수 내부에서는 다양한 사각형을 그려서 버튼을 생성합니다.
  
● sizeText는 현재 텍스트의 크기를 계산합니다. 

● getTextSize함수는 주어진 글꼴 유형, 글꼴 크기, 글자 두께로 텍스트의 폭과 높이를 반환합니다. 

● sizeImg에는 이미지의 크기를 가져옵니다. 

● org에는 텍스트의 시작 위치값이 계산됩니다.
  
● X좌표와 Y좌표를 계산하여 중앙에 텍스트를 배치합니다.

# 마우스 콜백 함수 내부에 clear부분

● Point(x, y) x, y는 마우스 클릭 이벤트가 발생한 위치의 좌표입니다.

● .contains(Rect(500, 200, 200, 100))는 마우스 클릭 위치가 clear버튼 영역 내에 있는지 확인합니다.

● (*(Mat*)userdata)에서는 img 매트릭스를 참조합니다. 사용자가 그림을 그린 영역을 초기화하여 흰색으로 
  덮어씁니다.

# 마우스 콜백 함수 내부에 save 부분

● contains함수로 마우스 클릭 위치가 save 버튼 영역 내에 있는지 확인합니다.

● 지정된 영역을 복사하여 새로운 Mat객체 save에 저장합니다.

● 복제한 이미지를 resize함수로 500 x 500 크기로 조정합니다.

● 콘솔에 메시지를 출력하여 사용자로부터 파일명을 입력 받고 입력된 파일명으로 이미지를 파일로 저장합니다.

# 마우스 콜백 함수 내부에 load 부분

● contains함수로 마우스 클릭 위치가 load 버튼 영역 내에 있는지 확인합니다.

● 콘솔에 메시지를 출력하여 사용자로부터 이미지 파일명을 입력받습니다.

● 입력된 파일명의 이미지를 로드하여 numberImg 변수에 저장합니다.

● 로드된 이미지에 사각형을 그립니다. 이미지가 500 x 500 크기가 아닌 경우에도 같은 크기로 사각형을 그리기 위함입니다.

● numberImg를 그림을 그릴 수 있는 영영에 복사(*(Mat*)userdata)(Rect(0, 0, 500, 500))

# 마우스 콜백 함수 내부에 exit 부분

● contains 함수로 마우스 클릭 위치가 exit 버튼 영역 내에 있는지 확인합니다.

● exit(1) 함수를 호출하여 프로그램 종료합니다.

● 종료 코드로 1을 사용하여 프로그램이 오류 없이 종료되었음을 나타냅니다.

# EVENT_MOUSEMOVE

● contains 함수로 마우스의 좌표가 그림을 그릴 수 있는 영역 내에 있는지 확인합니다.

● flags 변수는 마우스 이벤트에 대한 플래그를 갖고 있고, 마우스 왼쪽 버튼이 눌린 상태를 확인하기 위한 조건문 입니다.

● line함수로 이미지에 선을 그리고 변경된 이미지를 다시 화면에 표시합니다.

# EVENT_LBUTTONUP

● 마우스 왼쪽 버튼이 놓였을 때 이 부분의 코드 블록이 실행됩니다.

● 마우스 왼쪽 버튼이 놓인 위치를 pt0ld 변수에 저장합니다.
